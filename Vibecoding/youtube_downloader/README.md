# 유튜브 동영상 다운로더 (Streamlit + yt-dlp)

Streamlit 웹 인터페이스를 사용하여 유튜브 동영상을 다운로드하는 애플리케이션입니다. `yt-dlp` 라이브러리를 활용하여 안정적인 다운로드를 지원하며, Premiere Pro 등 편집 프로그램과의 호환성을 위해 H.264/AAC 코덱을 우선적으로 사용합니다.

## 주요 기능

*   **간편한 웹 인터페이스:** 브라우저에서 URL과 저장 경로 입력
*   **안정적인 다운로드:** `yt-dlp` 사용
*   **편집 호환성:** H.264(AVC) 비디오 + AAC 오디오 코덱 우선 선택 (MP4 컨테이너)
*   **경로 지정:** 원하는 폴더에 다운로드 (기본값: 사용자 Downloads 폴더)
*   **폴더 열기:** 다운로드 성공 시 저장 폴더 바로 열기 버튼 제공
*   **연속 작업:** 다운로드 후 URL 입력 필드 자동 초기화

## 요구 사항

*   **Python 3:** 버전 3.7 이상 권장 ([python.org](https://www.python.org/)) - 설치 시 "Add Python to PATH" 옵션 확인 권장
*   **(필수) FFmpeg:** 영상/음성 병합 및 코덱 변환을 위해 반드시 필요합니다. 아래 "FFmpeg 설치 및 설정" 참고.
*   **(필수)** `python-dotenv` 라이브러리 (`requirements.txt` 통해 설치됨)
*   **(선택 사항) Git:** 코드 복제를 위해 사용

## 🚀 시작하기 (Windows 사용자)

**1단계: 초기 설정 (최초 1회)**

1.  **프로젝트 다운로드/복제:**
    이 프로젝트 파일들을 컴퓨터의 원하는 위치에 받습니다. (예: Git 사용 시)
    ```powershell
    git clone <저장소_URL> # 실제 저장소 URL로 변경
    ```
    ```powershell
    cd <프로젝트_폴더명>
    ```
2.  **FFmpeg 설치 및 설정 (필수):**
    *   [FFmpeg 공식 웹사이트](https://ffmpeg.org/download.html)에서 빌드된 버전(essentials build 권장)을 다운로드합니다.
    *   다운로드한 압축 파일 안의 `bin` 폴더 (ffmpeg.exe, ffprobe.exe 등이 있는 곳)를 찾습니다.
    *   이 `bin` 폴더의 **전체 경로**를 복사하여 **시스템 환경 변수 `PATH`에 추가**합니다.
        *   *Windows 검색에서 "환경 변수 편집" 검색 -> "환경 변수..." 버튼 클릭 -> "시스템 변수" 또는 "사용자 변수" 목록에서 `Path` 선택 후 "편집..." -> "새로 만들기" 클릭 후 복사한 경로 붙여넣기 -> 확인*
    *   **PATH 설정 후에는 시스템을 재시작하거나 새 명령 프롬프트/PowerShell 창을 열어야 적용됩니다.**
3.  **사용자 설정 파일 생성 (`.env`):**
    *   프로젝트 폴더 안의 `.env.example` 파일을 복사하여 같은 위치에 `.env`라는 이름으로 파일을 만듭니다.
    *   `.env` 파일을 텍스트 편집기로 열고, `USER_PROFILE_NAME=` 뒷부분에 자신의 **Windows 사용자 프로필 이름** (예: `C:\Users\<이름>` 에서 `<이름>` 부분)을 입력하고 저장합니다.
        ```dotenv
        # 예시:
        USER_PROFILE_NAME=MyUserName
        ```
    *   이 설정은 앱 실행 시 기본 다운로드 경로를 `C:\Users\<사용자이름>\Downloads`로 지정하는 데 사용됩니다. 설정하지 않으면 앱은 현재 로그인된 사용자의 Downloads 폴더를 기본값으로 사용합니다.
4.  **Python 환경 및 라이브러리 설치:**
    프로젝트 폴더 안의 `setup.bat` 파일을 **더블 클릭**하여 실행합니다. 이 스크립트는 가상 환경 생성 및 `requirements.txt`에 명시된 모든 라이브러리(`python-dotenv` 포함)를 설치합니다.
    *   성공 시 "Setup completed successfully!" 메시지 출력
    *(오류 발생 시 메시지를 확인하세요. Python PATH 문제, 네트워크 문제 등이 원인일 수 있습니다.)*

**2단계: 애플리케이션 실행**

1.  **실행 스크립트 사용:**
    프로젝트 폴더 안의 `run_app.bat` 파일을 **더블 클릭**하여 실행합니다. 이 스크립트는 다음 작업을 자동으로 수행합니다:
    *   `venv` 가상 환경 활성화
    *   Streamlit 애플리케이션 실행 (`youtube_downloader.py`)
2.  **웹 브라우저 접속:**
    잠시 후 터미널 창에 `Local URL` (예: `http://localhost:8501`)이 표시됩니다. 이 주소를 웹 브라우저에 입력하여 앱에 접속합니다.
3.  **사용:**
    *   **사이드바:** 다운로드할 유튜브 URL과 동영상을 저장할 경로를 입력합니다.
    *   **다운로드 시작:** "다운로드 시작" 버튼 클릭
    *   **결과 확인:** 메인 영역에 다운로드 결과(성공/실패), 최종 파일 경로, 상세 로그 등이 표시됩니다.
    *   **폴더 열기:** 성공 시 "저장 폴더 열기" 버튼으로 바로 해당 폴더를 열 수 있습니다.

## 🔧 문제 해결 (Troubleshooting)

*   **`setup.bat` 오류:**
    *   Python 3가 설치되어 있고 PATH에 추가되었는지 확인하세요.
        ```powershell
        python --version
        ```
    *   인터넷 연결 상태를 확인하세요 (라이브러리 다운로드 필요).
*   **`run_app.bat` 오류:**
    *   `setup.bat`을 먼저 성공적으로 실행했는지 확인하세요 (`venv` 폴더 존재 확인).
*   **다운로드 실패 / 파일 생성 안 됨:**
    *   **FFmpeg 설정 확인:** FFmpeg이 설치되고 PATH 설정이 올바르게 되었는지, 시스템 재시작 또는 새 터미널을 사용했는지 다시 확인하세요.
    *   **저장 경로 확인:** 지정한 저장 경로에 쓰기 권한이 있는지, 경로가 유효한지 확인하세요.
    *   **보안 소프트웨어:** 백신 등이 `yt-dlp` 또는 `ffmpeg`의 파일 쓰기 작업을 차단하는지 확인해보세요.
    *   **상세 로그 확인:** 앱 화면의 "상세 로그 보기" 또는 "오류 및 로그 보기"를 펼쳐 `yt-dlp`와 `ffmpeg` 관련 메시지를 확인하세요.
*   **프리미어 프로에서 파일 안 열림:**
    *   이 앱은 H.264/AAC 코덱을 우선하지만, 해당 영상에 해당 코덱 포맷이 없는 경우 다른 코덱으로 다운로드될 수 있습니다. 이 경우 외부 인코딩 도구(예: Handbrake, Shutter Encoder, FFmpeg 직접 사용)로 파일을 변환해야 할 수 있습니다.
*   **기본 다운로드 경로 오류:**
    *   `.env` 파일에 `USER_PROFILE_NAME`을 정확히 입력했는지 확인하세요.
    *   `setup.bat` 실행 시 `python-dotenv` 라이브러리가 오류 없이 설치되었는지 확인하세요.

